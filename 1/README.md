# Первая лабораторная работа

## Задание
```
1. Взять текст из любого художественного произведения на русском языке. Удалить из него все символы, кроме русских букв, а все русские буквы перевести в нижний регистр. Обрезать итоговый текст до 3000 символов и сохранить в кодировке ANSI 1251. Букву Ё не использовать, если есть, заменить её на Е.
2. Сгенерировать случайную перестановку русского алфавита, и сохранить её в файл. Это будет ключ. Использовать её для зашифровки текста путем замены соответствующей буквы на букву из полученного ключа. 
3. Зашифровать полученный текст полученным ключом.
4. Написать программу, которая сможет расшифровать любой такой текст, без знания исходного ключа, используя частотный анализ, либо любые другие методы.
```

## Описание
Данная программа решает все эти задачи.

### Модули, которые необходимо подключать ко всем программам:
- `encrypt.h`, `encrypt.cpp` - модуль, в котором находятся основные функции.
- `genetic.h`, `genetic.cpp` - модуль, в котором находятся функции для автоматической расшифровки.

### Реализация первых трех пунктов:
- `encrypt_text.cpp` - программа, которая шифрует текст из файла `text.txt`, результат помещается  в файл `encrypted.txt`, а ключ в файл `key.txt`.

### Реализация четвертого пункта:
- `encrypted/` - каталог с зашифрованными файлами других групп.
- `main_genetic.cpp` - программа, которая автоматически расшифровывает тексты из каталога `encrypted/`. Перед запуском необходимо разместить все файлы оттуда в рабочий каталог программы. Так же в рабочий каталог необходимо разместить файл `frequency_table.txt`.

### Подсчет статистики в русском языке:
- `count_stat.cpp` - программа, которая подсчитывает частотность букв, двубуквенных и трехбуквенных сочетаний в русском языке. Для работы необходима папка `test`, где уже будут загружены русские тексты в достаточном объеме.
- `frequency_table.txt` - результат работы этой программы. Получена на основе `750мб` книг.
- `frequency_letter.cpp` - программа, для формирования дополнительной статистики частотности сочетаний.

### Программы для исследований:
- `test_text/` - каталог с текстами для тестов.
- `analyze_evolution.cpp` - программа, которая оценивает насколько эффективно работает эволюция. На тестовых текстах результат в среднем `99.86%`. Можете сами запустить и убедиться в этом.
- `compare_texts_difference.cpp` - программа, которая оценивает, насколько отличается частотность случайных текстов длиной 3000 символов от частотности в русском языке.
- `compare_encrypted_difference.cpp` - программа, которая оценивает, насколько отличается частотность полу-зашифрованных текстов от частотности в русском языке.

### Прочее:
- `ideas.txt` - TODO-лист.

## Принцип работы автоматической расшифровки

Для автоматической расшифровки используется генетический алгоритм.

При помощи генетического алгоритма ищется ключ, который минимизирует разницу между частотностью букв и сочетаний в русском языке с частотностью в расшифрованном этим ключом тексте. 

Так же применятся множество эвристик, которые локализованы в функциях `metric` и `differenceMetric`.

Надеюсь, всё остальное понятно из кода.